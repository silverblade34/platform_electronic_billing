"use strict";(self["webpackChunkplatform_electronic_billing"]=self["webpackChunkplatform_electronic_billing"]||[]).push([[916],{916:function(e,t,o){o.r(t),o.d(t,{default:function(){return J}});var l=o(3396);const a={class:"flex justify-between"},i=(0,l._)("h1",{class:"font-medium lg:text-2xl text-xl text-gray-500"},"Productos",-1),n={class:"py-5"};function r(e,t,o,r,d,c){const u=(0,l.up)("ModalCreateProductVue"),s=(0,l.up)("TableProductsVue"),m=(0,l.up)("ModalEditProductVue");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",a,[i,(0,l.Wm)(u,{onCreateItem:r.onCreateItem},null,8,["onCreateItem"])]),(0,l._)("div",n,[(0,l.Wm)(s,{desserts:r.dataProduct,onEditItem:r.onEditItem,onDeleteItem:r.onDeleteItem},null,8,["desserts","onEditItem","onDeleteItem"])]),(0,l.Wm)(m,{itemEdit:r.itemEdit,openModal:r.dialogEdit,onCancelItem:t[0]||(t[0]=e=>r.dialogEdit=!1),onEditItem:r.onUpdateItem},null,8,["itemEdit","openModal","onEditItem"])],64)}var d=o(3041);const c="http://143.244.144.235:8000/api";function u(e){return d.Z.get(`${c}/product/`,{headers:{Authorization:`Bearer ${e}`}})}function s(e,t){return d.Z.post(`${c}/product/`,e,{headers:{Authorization:`Bearer ${t}`}})}function m(e,t,o){return d.Z.put(`${c}/product/${e}/`,t,{headers:{Authorization:`Bearer ${o}`}})}function p(e,t){return d.Z.delete(`${c}/product/${e}/`,{headers:{Authorization:`Bearer ${t}`}})}var _=o(3512),v=o(870),g=o(5039),h=o(1888),f=o(1334),w=o(3601),k=o(8521),C=o(9234),b=o(3289),y=o(2900),I=o(1328);const W=(0,l._)("span",{class:"px-4 w-full text-center text-teal-500 font-bold title_views"},"CREAR PRODUCTO",-1);function V(e,t,o,a,i,n){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(v.T,{size:"small",class:"text-none",color:"blue",onClick:t[0]||(t[0]=e=>a.dialog=!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(b.t,{icon:"mdi-plus"}),(0,l.Uk)(" Nuevo")])),_:1}),(0,l.Wm)(w.B,{modelValue:a.dialog,"onUpdate:modelValue":t[4]||(t[4]=e=>a.dialog=e),width:"550","onClick:outside":a.closeItem},{default:(0,l.w5)((()=>[(0,l.Wm)(g._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(I.i,null,{default:(0,l.w5)((()=>[W])),_:1}),(0,l.Wm)(h.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(y.h,{variant:"outlined",label:"Codigo producto",color:"teal",modelValue:a.cod_product,"onUpdate:modelValue":t[1]||(t[1]=e=>a.cod_product=e),"prepend-inner-icon":"mdi-barcode"},null,8,["modelValue"]),(0,l.Wm)(y.h,{variant:"outlined",label:"Descripción","prepend-inner-icon":"mdi-text-box-plus",color:"blue",modelValue:a.description,"onUpdate:modelValue":t[2]||(t[2]=e=>a.description=e)},null,8,["modelValue"]),(0,l.Wm)(y.h,{type:"number",variant:"outlined",label:"Precio","prepend-inner-icon":"mdi-cash",color:"blue",modelValue:a.price_list,"onUpdate:modelValue":t[3]||(t[3]=e=>a.price_list=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(f.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(C.C),(0,l.Wm)(v.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:a.closeItem},{default:(0,l.w5)((()=>[(0,l.Uk)(" Cancelar ")])),_:1},8,["onClick"]),(0,l.Wm)(v.T,{color:"blue-lighten-1",variant:"tonal",onClick:a.createItem},{default:(0,l.w5)((()=>[(0,l.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onClick:outside"])],64)}var E=o(4870),x={emits:["create-item"],setup(e,{emit:t}){const o=(0,E.iH)(!1),l=(0,E.iH)(""),a=(0,E.iH)(""),i=(0,E.iH)(""),n=()=>{t("create-item",{cod_product:l.value,description:a.value,price_list:i.value,email:"user@example.com",state:!0}),r()},r=()=>{o.value=!1,l.value=a.value=i.value=""};return{dialog:o,cod_product:l,description:a,price_list:i,createItem:n,closeItem:r}}},U=o(89);const D=(0,U.Z)(x,[["render",V]]);var P=D;const Z=(0,l._)("span",{class:"px-4 w-full text-center text-teal-500 font-bold title_views"},"EDITAR PRODUCTO",-1);function A(e,t,o,a,i,n){return(0,l.wg)(),(0,l.j4)(w.B,{modelValue:a.dialog,"onUpdate:modelValue":t[3]||(t[3]=e=>a.dialog=e),width:"550","onClick:outside":a.closeItem},{default:(0,l.w5)((()=>[(0,l.Wm)(g._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(I.i,null,{default:(0,l.w5)((()=>[Z])),_:1}),(0,l.Wm)(h.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(y.h,{variant:"outlined",label:"Codigo producto",color:"teal",modelValue:a.cod_product,"onUpdate:modelValue":t[0]||(t[0]=e=>a.cod_product=e),"prepend-inner-icon":"mdi-barcode"},null,8,["modelValue"]),(0,l.Wm)(y.h,{variant:"outlined",label:"Descripción","prepend-inner-icon":"mdi-text-box-plus",color:"blue",modelValue:a.description,"onUpdate:modelValue":t[1]||(t[1]=e=>a.description=e)},null,8,["modelValue"]),(0,l.Wm)(y.h,{type:"number",variant:"outlined",label:"Precio","prepend-inner-icon":"mdi-cash",color:"blue",modelValue:a.price_list,"onUpdate:modelValue":t[2]||(t[2]=e=>a.price_list=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(f.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(C.C),(0,l.Wm)(v.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:a.closeItem},{default:(0,l.w5)((()=>[(0,l.Uk)(" Cancelar ")])),_:1},8,["onClick"]),(0,l.Wm)(v.T,{color:"blue-lighten-1",variant:"tonal",onClick:a.editItem},{default:(0,l.w5)((()=>[(0,l.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onClick:outside"])}var H={props:{itemEdit:Object,openModal:Boolean},emits:["edit-item","cancel-item"],setup(e,{emit:t}){const o=(0,E.iH)(!1),a=(0,E.iH)(""),i=(0,E.iH)(""),n=(0,E.iH)("");(0,l.YP)((()=>e.openModal),(async e=>{o.value=e})),(0,l.YP)((()=>e.itemEdit),(e=>{console.log(e),0!==Object.keys(e).length&&(a.value=e.item.cod_product,i.value=e.item.description,n.value=e.item.price_list)}));const r=()=>{t("edit-item",{cod_product:a.value,description:i.value,price_list:n.value,email:"user@example.com",state:!0}),d()},d=()=>{t("cancel-item")};return{dialog:o,cod_product:a,description:i,price_list:n,editItem:r,closeItem:d}}};const T=(0,U.Z)(H,[["render",A]]);var $=T,M=o(7139),z=o(678);const B={class:"flex gap-1 justify-center"},j=["onClick"],L=["onClick"];function O(e,t,o,a,i,n){const r=(0,l.up)("v-data-table");return(0,l.wg)(),(0,l.j4)(r,{headers:i.headers,items:o.desserts,class:"elevation-1 text-sm"},{["item.date_created"]:(0,l.w5)((({item:e})=>[(0,l.Uk)((0,M.zw)(a.formatCreatedAt(e.date_created)),1)])),["item.actions"]:(0,l.w5)((({item:e})=>[(0,l._)("div",B,[(0,l._)("span",{onClick:t=>a.editItem(e)},[(0,l.Wm)(v.T,{icon:"mdi-pencil",size:"small",variant:"text",color:"green"}),(0,l.Wm)(z.N,{activator:"parent",location:"top"},{default:(0,l.w5)((()=>[(0,l.Uk)("Editar")])),_:1})],8,j),(0,l._)("span",{onClick:t=>a.deleteItem(e)},[(0,l.Wm)(v.T,{icon:"mdi-delete-empty",size:"small",variant:"text",color:"red"}),(0,l.Wm)(z.N,{activator:"parent",location:"top"},{default:(0,l.w5)((()=>[(0,l.Uk)("Eliminar")])),_:1})],8,L)])])),_:2},1032,["headers","items"])}var R=o(6421),S={props:{desserts:Array},components:{VDataTable:R.y_},emits:["delete-item","edit-item"],data(){return{headers:[{title:"Codigo producto",align:"start",key:"cod_product"},{title:"Descripción",align:"start",key:"description"},{title:"Precio",key:"price_list"},{title:"Fecha creación",align:"start",key:"date_created"},{title:"Acciones",align:"center",key:"actions"}]}},setup(e,{emit:t}){const o=e=>{t("edit-item",{item:e})},l=e=>{t("delete-item",{item:e})},a=e=>{const t={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"},o=new Date(e).toLocaleDateString("es-PE",t);return o};return{formatCreatedAt:a,editItem:o,deleteItem:l}}};const Y=(0,U.Z)(S,[["render",O]]);var N=Y,F=o(4239),q={components:{TableProductsVue:N,ModalCreateProductVue:P,ModalEditProductVue:$},setup(){const e=(0,E.iH)([]),t=(0,E.iH)({}),o=(0,E.iH)(!1);(0,l.bv)((()=>{a()}));const a=async()=>{const t=await u(F.Z.state.token);e.value=t.data},i=async e=>{""!=e.cod_product&&""!=e.description&&""!=e.price_list?await s(e,F.Z.state.token).then((()=>{(0,_.y)((()=>{a()}),"success","Logrado","Se ha creado correctamente")})).catch((e=>{(0,_.y)((()=>{}),"error","Error",e.message)})):(0,_.y)((()=>{}),"warning","Error","Los campos no deben estar vacios")},n=e=>{o.value=!0,t.value=e},r=async e=>{o.value=!1,""!=e.cod_product&&""!=e.description&&""!=e.price_list?await m(t.value.item.id,e,F.Z.state.token).then((()=>{(0,_.y)((()=>{a()}),"success","Logrado","Se ha editado correctamente")})).catch((e=>{(0,_.y)((()=>{}),"error","Error",e.message)})):(0,_.y)((()=>{}),"warning","Error","Los campos no deben estar vacios")},d=e=>{(0,_.M)((async()=>{await p(e.item.id,F.Z.state.token).then((()=>{(0,_.y)((()=>{a()}),"success","Logrado","Se ha eliminado correctamente")})).catch((e=>{(0,_.y)((()=>{}),"error","Error",e.message)}))}),"¿Estás seguro de eliminar este cliente?","Aceptar")};return{dialogEdit:o,dataProduct:e,itemEdit:t,onDeleteItem:d,onUpdateItem:r,onEditItem:n,onCreateItem:i}}};const G=(0,U.Z)(q,[["render",r]]);var J=G}}]);
//# sourceMappingURL=916.1f7867c3.js.map