{"version":3,"file":"js/688.e97a73e6.js","mappings":"2OACSA,MAAM,wB,GACFA,MAAM,qB,GAKPC,EAAAA,EAAAA,GAAoF,QAA9ED,MAAM,+CAA8C,uBAAmB,G,GAGhFA,MAAM,gB,8FATXC,EAAAA,EAAAA,GAQM,MARNC,EAQM,EAPFD,EAAAA,EAAAA,GAMM,MANNE,EAMM,EALFF,EAAAA,EAAAA,GAGO,cAFHG,EAAAA,EAAAA,IAAmFC,EAAAA,EAAA,CAA5EC,KAAK,mBAAmBC,KAAK,QAAQC,QAAQ,OAAQC,QAAOC,EAAAC,Q,qBACnEP,EAAAA,EAAAA,IAAiEQ,EAAAA,EAAA,CAAtDC,UAAU,SAASC,SAAS,O,mBAAM,IAAQ,UAAR,e,QAEjDC,OAGRd,EAAAA,EAAAA,GAEM,MAFNe,EAEM,EADFZ,EAAAA,EAAAA,IAAyFa,EAAA,CAA3EC,cAAcR,EAAAC,OAASQ,cAAcT,EAAAU,cAAgBC,SAAUX,EAAAW,U,kHAWrF,GACIC,MAAO,CACHC,GAAIC,QAERC,WAAY,CACRC,YAAWA,EAAAA,GAEfC,KAAAA,CAAML,GACF,MAAMD,GAAWO,EAAAA,EAAAA,IAAI,CAAC,GAChBC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,KAAU,KACNC,EAAWV,EAAMC,GAAG,KAGxBU,EAAAA,EAAAA,KAAM,IAAMX,EAAMC,KAAKW,IACnBF,EAAWE,EAAO,IAGtB,MAAMF,EAAaG,UACf,MAAMC,EAAO,CACT,WAAcC,SAEZC,EAAAA,EAAAA,IAAkBF,EAAMG,EAAAA,EAAMC,MAAMC,OACrCC,MAAKC,IACFtB,EAASuB,MAAQD,EAASP,KAAKA,IAAG,IAErCS,OAAM,MACHC,EAAAA,EAAAA,IAAW,KACPnC,GAAQ,GACT,QAAS,QAAS,qCAAqC,GAC5D,EAGJS,EAAiBgB,KACnBW,EAAAA,EAAAA,IAAaZ,gBACHa,EAAAA,EAAAA,IAAiB3B,EAASuB,MAAMrB,GAAIa,EAAMG,EAAAA,EAAMC,MAAMC,OACvDC,MAAK,MACFI,EAAAA,EAAAA,IAAW,KACPnC,GAAQ,GACT,UAAW,UAAW,6CAA6C,IAEzEkC,OAAM,MACHC,EAAAA,EAAAA,IAAW,KACPnC,GAAQ,GACT,QAAS,QAAS,yCAAyC,GAChE,GAEP,4CAA6C,UAAU,EAGxDA,EAASA,KACPkB,GAAYA,EAASoB,OAASpB,EAASoB,MAAMC,SAC7CrB,EAASoB,MAAMC,QAAQC,IAAI,EAC/B,EAGJ,MAAO,CACH/B,gBACAT,SACAU,WAER,G,QC/EJ,MAAM+B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://platform_electronic_billing/./src/views/UpdateVouchersView.vue","webpack://platform_electronic_billing/./src/views/UpdateVouchersView.vue?d9be"],"sourcesContent":["<template>\r\n    <div class=\"flex justify-between\">\r\n        <div class=\"flex items-center\">\r\n            <span>\r\n                <v-btn icon=\"mdi-chevron-left\" size=\"small\" variant=\"text\" @click=\"goBack\"></v-btn>\r\n                <v-tooltip activator=\"parent\" location=\"top\">Regresar</v-tooltip>\r\n            </span>\r\n            <span class=\"font-bold lg:text-2xl text-xl text-gray-400\"> Editar comprobante</span>\r\n        </div>\r\n    </div>\r\n    <div class=\"py-5 text-sm\">\r\n        <FormVoucher @cancel-quote=\"goBack\" @accept-quote=\"updateVoucher\" :itemEdit=\"itemEdit\" />\r\n    </div>\r\n</template>\r\n<script>\r\nimport { ref, onMounted, watch } from 'vue';\r\nimport { getCurrentInstance } from 'vue';\r\nimport { updateVoucherApi, findOneVoucherApi } from '@/api/VoucherService';\r\nimport FormVoucher from \"@/components/vouchers/FormVoucher.vue\";\r\nimport { basicAlert, confirmBasic } from '@/helpers/SweetAlert';\r\nimport store from '@/store';\r\n\r\nexport default ({\r\n    props: {\r\n        id: String\r\n    },\r\n    components: {\r\n        FormVoucher,\r\n    },\r\n    setup(props) {\r\n        const itemEdit = ref({});\r\n        const instance = getCurrentInstance();\r\n\r\n        onMounted(() => {\r\n            onEditItem(props.id)\r\n        })\r\n\r\n        watch(() => props.id, (newVal) => {\r\n            onEditItem(newVal)\r\n        })\r\n\r\n        const onEditItem = async (voucherId) => {\r\n            const data = {\r\n                \"id_voucher\": voucherId\r\n            }\r\n            await findOneVoucherApi(data, store.state.token)\r\n                .then(response => {\r\n                    itemEdit.value = response.data.data\r\n                })\r\n                .catch(() => {\r\n                    basicAlert(() => {\r\n                        goBack()\r\n                    }, 'error', 'Error', \"Hubo un error al buscar el voucher\")\r\n                })\r\n        }\r\n\r\n        const updateVoucher = (data) => {\r\n            confirmBasic(async () => {\r\n                await updateVoucherApi(itemEdit.value.id, data, store.state.token)\r\n                    .then(() => {\r\n                        basicAlert(() => {\r\n                            goBack()\r\n                        }, 'success', 'Logrado', \"El comprobante se ha editado correctamente\")\r\n                    })\r\n                    .catch(() => {\r\n                        basicAlert(() => {\r\n                            goBack()\r\n                        }, 'error', 'Error', \"Hubo un error al editar el comprobante\")\r\n                    })\r\n\r\n            }, '¿Estás seguro de editar este comprobante?', 'Aceptar');\r\n        }\r\n\r\n        const goBack = () => {\r\n            if (instance && instance.proxy && instance.proxy.$router) {\r\n                instance.proxy.$router.go(-1);\r\n            }\r\n        }\r\n\r\n        return {\r\n            updateVoucher,\r\n            goBack,\r\n            itemEdit\r\n        }\r\n    }\r\n})\r\n</script>","import { render } from \"./UpdateVouchersView.vue?vue&type=template&id=64ec4a9f\"\nimport script from \"./UpdateVouchersView.vue?vue&type=script&lang=js\"\nexport * from \"./UpdateVouchersView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_1","_hoisted_2","_createVNode","_component_v_btn","icon","size","variant","onClick","$setup","goBack","_component_v_tooltip","activator","location","_hoisted_3","_hoisted_4","_component_FormVoucher","onCancelQuote","onAcceptQuote","updateVoucher","itemEdit","props","id","String","components","FormVoucher","setup","ref","instance","getCurrentInstance","onMounted","onEditItem","watch","newVal","async","data","voucherId","findOneVoucherApi","store","state","token","then","response","value","catch","basicAlert","confirmBasic","updateVoucherApi","proxy","$router","go","__exports__","render"],"sourceRoot":""}