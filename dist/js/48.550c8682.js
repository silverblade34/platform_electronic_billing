"use strict";(self["webpackChunkplatform_electronic_billing"]=self["webpackChunkplatform_electronic_billing"]||[]).push([[48],{9414:function(e,t,a){a.d(t,{Kg:function(){return l},Zu:function(){return o},cA:function(){return d},jT:function(){return r}});var n=a(3041);const i="http://143.244.144.235:8000/api";function l(e){return n.Z.get(`${i}/store/`,{headers:{Authorization:`Bearer ${e}`}})}function o(e,t){return n.Z.post(`${i}/store/`,e,{headers:{Authorization:`Bearer ${t}`}})}function r(e,t,a){return n.Z.put(`${i}/store/${e}/`,t,{headers:{Authorization:`Bearer ${a}`}})}function d(e,t){return n.Z.delete(`${i}/store/${e}/`,{headers:{Authorization:`Bearer ${t}`}})}},3080:function(e,t,a){a.r(t),a.d(t,{default:function(){return R}});var n=a(3396);const i={class:"flex justify-between"},l=(0,n._)("h1",{class:"font-bold lg:text-2xl text-xl text-gray-400"},"Almacén",-1),o={class:"py-5"};function r(e,t,a,r,d,c){const u=(0,n.up)("ModalCreateStore"),m=(0,n.up)("TableStore"),s=(0,n.up)("ModalEditStore");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",i,[l,(0,n.Wm)(u,{onCreateItem:r.onCreateItem},null,8,["onCreateItem"])]),(0,n._)("div",o,[(0,n.Wm)(m,{desserts:r.dataStore,onEditItem:r.onEditItem,onDeleteItem:r.onDeleteItem},null,8,["desserts","onEditItem","onDeleteItem"])]),(0,n.Wm)(s,{itemEdit:r.storeEdit,openModal:r.dialogEdit,onCancelItem:t[0]||(t[0]=e=>r.dialogEdit=!1),onEditItem:r.editItem},null,8,["itemEdit","openModal","onEditItem"])],64)}var d=a(7139),c=a(870),u=a(678);const m={class:"flex gap-1"},s=["onClick"],p=["onClick"];function g(e,t,a,i,l,o){const r=(0,n.up)("v-data-table");return(0,n.wg)(),(0,n.j4)(r,{headers:l.headers,items:a.desserts,class:"elevation-1 text-sm"},{["item.date_created"]:(0,n.w5)((({item:e})=>[(0,n.Uk)((0,d.zw)(i.formatCreatedAt(e.date_created)),1)])),["item.actions"]:(0,n.w5)((({item:e})=>[(0,n._)("div",m,[(0,n._)("span",{onClick:t=>i.editItem(e)},[(0,n.Wm)(c.T,{icon:"mdi-pencil",size:"small",variant:"text",color:"green"}),(0,n.Wm)(u.N,{activator:"parent",location:"top"},{default:(0,n.w5)((()=>[(0,n.Uk)("Editar")])),_:1})],8,s),(0,n._)("span",{onClick:t=>i.deleteItem(e)},[(0,n.Wm)(c.T,{icon:"mdi-delete-empty",size:"small",variant:"text",color:"red"}),(0,n.Wm)(u.N,{activator:"parent",location:"top"},{default:(0,n.w5)((()=>[(0,n.Uk)("Eliminar")])),_:1})],8,p)])])),_:2},1032,["headers","items"])}var v=a(7360),f={props:{desserts:Array},components:{VDataTable:v.y_},emits:["delete-item","edit-item"],data(){return{headers:[{title:"Código",align:"start",key:"id"},{title:"Nombre",align:"start",key:"name"},{title:"Dirección",key:"direction"},{title:"Fecha de creación",align:"center",key:"date_created"},{title:"Acciones",key:"actions"}]}},setup(e,{emit:t}){const a=e=>{t("edit-item",{item:e})},n=e=>{t("delete-item",{item:e})},i=e=>{const t={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"},a=new Date(e).toLocaleDateString("es-PE",t);return a};return{formatCreatedAt:i,editItem:a,deleteItem:n}}},w=a(89);const h=(0,w.Z)(f,[["render",g]]);var _=h,b=a(9414),k=a(5039),C=a(1888),W=a(1334),I=a(3601),y=a(8521),E=a(9234),A=a(3289),V=a(2900),x=a(1328);const Z=(0,n._)("span",{class:"px-4 w-full text-center text-blue-400 font-bold title_views"},"CREAR ALMACÉN",-1);function D(e,t,a,i,l,o){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(c.T,{size:"small",class:"text-none",color:"blue",onClick:t[0]||(t[0]=e=>i.dialog=!0)},{default:(0,n.w5)((()=>[(0,n.Wm)(A.t,{icon:"mdi-plus"}),(0,n.Uk)(" Nuevo")])),_:1}),(0,n.Wm)(I.B,{modelValue:i.dialog,"onUpdate:modelValue":t[4]||(t[4]=e=>i.dialog=e),width:"500"},{default:(0,n.w5)((()=>[(0,n.Wm)(k._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(x.i,null,{default:(0,n.w5)((()=>[Z])),_:1}),(0,n.Wm)(C.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y.D,{cols:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{variant:"outlined",label:"Nombre","prepend-inner-icon":"mdi-badge-account",color:"blue",modelValue:i.name,"onUpdate:modelValue":t[1]||(t[1]=e=>i.name=e)},null,8,["modelValue"]),(0,n.Wm)(V.h,{variant:"outlined",label:"Dirección","prepend-inner-icon":"mdi-sign-direction",color:"blue",modelValue:i.direction,"onUpdate:modelValue":t[2]||(t[2]=e=>i.direction=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(W.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(E.C),(0,n.Wm)(c.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:t[3]||(t[3]=e=>i.dialog=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)(" Cancelar ")])),_:1}),(0,n.Wm)(c.T,{color:"blue-lighten-1",variant:"tonal",onClick:i.createItem},{default:(0,n.w5)((()=>[(0,n.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var U=a(4870),T={emits:["create-item"],setup(e,{emit:t}){const a=(0,U.iH)(!1),n=(0,U.iH)(""),i=(0,U.iH)(""),l=()=>{t("create-item",{name:n.value,direction:i.value}),n.value=i.value="",a.value=!1};return{dialog:a,name:n,direction:i,createItem:l}}};const S=(0,w.Z)(T,[["render",D]]);var H=S,M=a(3512);const $=(0,n._)("span",{class:"px-4 w-full text-center text-blue-400 font-bold title_views"},"EDITAR ALMACÉN",-1);function z(e,t,a,i,l,o){return(0,n.wg)(),(0,n.j4)(I.B,{modelValue:i.dialog,"onUpdate:modelValue":t[2]||(t[2]=e=>i.dialog=e),width:"500","onClick:outside":i.cancelItem},{default:(0,n.w5)((()=>[(0,n.Wm)(k._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(x.i,null,{default:(0,n.w5)((()=>[$])),_:1}),(0,n.Wm)(C.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y.D,{cols:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{variant:"outlined",label:"Nombre","prepend-inner-icon":"mdi-badge-account",color:"blue",modelValue:i.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.name=e)},null,8,["modelValue"]),(0,n.Wm)(V.h,{variant:"outlined",label:"Dirección","prepend-inner-icon":"mdi-sign-direction",color:"blue",modelValue:i.direction,"onUpdate:modelValue":t[1]||(t[1]=e=>i.direction=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(W.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(E.C),(0,n.Wm)(c.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:i.cancelItem},{default:(0,n.w5)((()=>[(0,n.Uk)(" Cancelar ")])),_:1},8,["onClick"]),(0,n.Wm)(c.T,{color:"blue-lighten-1",variant:"tonal",onClick:i.editItem},{default:(0,n.w5)((()=>[(0,n.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onClick:outside"])}var L={props:{itemEdit:Object,openModal:Boolean},emits:["edit-item","cancel-item"],setup(e,{emit:t}){const a=(0,U.iH)(!1),i=(0,U.iH)(""),l=(0,U.iH)("");(0,n.YP)((()=>e.openModal),(e=>{a.value=e})),(0,n.YP)((()=>e.itemEdit),(e=>{0!==Object.keys(e).length&&(i.value=e.item.name,l.value=e.item.direction)}));const o=()=>{t("edit-item",{name:i.value,direction:l.value}),i.value=l.value=""},r=()=>{t("cancel-item")};return{dialog:a,name:i,direction:l,editItem:o,cancelItem:r}}};const N=(0,w.Z)(L,[["render",z]]);var j=N,B=a(4239),Y={components:{TableStore:_,ModalCreateStore:H,ModalEditStore:j},setup(){const e=(0,U.iH)([]),t=(0,U.iH)({}),a=(0,U.iH)(!1);(0,n.bv)((()=>{i()}));const i=async()=>{await(0,b.Kg)(B.Z.state.token).then((t=>{e.value=t.data}))},l=async e=>{""!=e.name&&""!=e.direction?await(0,b.Zu)(e,B.Z.state.token).then((()=>{(0,M.y)((()=>{i()}),"success","Logrado","Se ha creado correctamente")})).catch((e=>{(0,M.y)((()=>{}),"error","Error",e.message)})):(0,M.y)((()=>{}),"warning","Error","Los campos no deben estar vacios")},o=e=>{a.value=!0,t.value=e},r=async e=>{a.value=!1,""!=e.name&&""!=e.direction?await(0,b.jT)(t.value.item.id,e,B.Z.state.token).then((()=>{(0,M.y)((()=>{i()}),"success","Logrado","Se ha editado correctamente")})):(0,M.y)((()=>{}),"warning","Error","Los campos no deben estar vacios")},d=e=>{(0,M.M)((async()=>{await(0,b.cA)(e.item.id,B.Z.state.token).then((()=>{(0,M.y)((()=>{i()}),"success","Logrado","Se ha eliminado correctamente")}))}),"¿Estás seguro de eliminar este almacén?","Aceptar")};return{dataStore:e,dialogEdit:a,storeEdit:t,onCreateItem:l,onDeleteItem:d,onEditItem:o,editItem:r}}};const P=(0,w.Z)(Y,[["render",r]]);var R=P}}]);
//# sourceMappingURL=48.550c8682.js.map