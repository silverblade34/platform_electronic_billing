"use strict";(self["webpackChunkplatform_electronic_billing"]=self["webpackChunkplatform_electronic_billing"]||[]).push([[756],{3509:function(e,t,o){o.d(t,{PQ:function(){return r},cT:function(){return n},oi:function(){return a},zf:function(){return c}});var l=o(3041);const i="http://143.244.144.235:8000/api";function a(e){return l.Z.get(`${i}/product/`,{headers:{Authorization:`Bearer ${e}`}})}function n(e,t){return l.Z.post(`${i}/product/`,e,{headers:{Authorization:`Bearer ${t}`}})}function r(e,t,o){return l.Z.put(`${i}/product/${e}/`,t,{headers:{Authorization:`Bearer ${o}`}})}function c(e,t){return l.Z.delete(`${i}/product/${e}/`,{headers:{Authorization:`Bearer ${t}`}})}},892:function(e,t,o){o.d(t,{Z:function(){return k}});var l=o(3396),i=o(870),a=o(5039),n=o(1888),r=o(1334),c=o(3601),d=o(8521),u=o(9234),s=o(3289),m=o(2900),p=o(1328);const _=(0,l._)("span",{class:"px-4 w-full text-center text-teal-500 font-bold title_views"},"CREAR PRODUCTO",-1);function v(e,t,o,v,f,g){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(i.T,{size:"small",class:"text-none",color:"indigo-lighten-2",onClick:t[0]||(t[0]=e=>v.dialog=!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(s.t,{icon:"mdi-plus"}),(0,l.Uk)(" Nuevo")])),_:1}),(0,l.Wm)(c.B,{modelValue:v.dialog,"onUpdate:modelValue":t[4]||(t[4]=e=>v.dialog=e),width:"550","onClick:outside":v.closeItem},{default:(0,l.w5)((()=>[(0,l.Wm)(a._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p.i,null,{default:(0,l.w5)((()=>[_])),_:1}),(0,l.Wm)(n.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(m.h,{variant:"outlined",label:"Codigo producto",color:"teal",modelValue:v.cod_product,"onUpdate:modelValue":t[1]||(t[1]=e=>v.cod_product=e),"prepend-inner-icon":"mdi-barcode"},null,8,["modelValue"]),(0,l.Wm)(m.h,{variant:"outlined",label:"Descripción","prepend-inner-icon":"mdi-text-box-plus",color:"blue",modelValue:v.description,"onUpdate:modelValue":t[2]||(t[2]=e=>v.description=e)},null,8,["modelValue"]),(0,l.Wm)(m.h,{type:"number",variant:"outlined",label:"Precio","prepend-inner-icon":"mdi-cash",color:"blue",modelValue:v.price_list,"onUpdate:modelValue":t[3]||(t[3]=e=>v.price_list=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(r.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u.C),(0,l.Wm)(i.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:v.closeItem},{default:(0,l.w5)((()=>[(0,l.Uk)(" Cancelar ")])),_:1},8,["onClick"]),(0,l.Wm)(i.T,{color:"blue-lighten-1",variant:"tonal",onClick:v.createItem},{default:(0,l.w5)((()=>[(0,l.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onClick:outside"])],64)}var f=o(4870),g={emits:["create-item"],setup(e,{emit:t}){const o=(0,f.iH)(!1),l=(0,f.iH)(""),i=(0,f.iH)(""),a=(0,f.iH)(""),n=()=>{t("create-item",{cod_product:l.value,description:i.value,price_list:a.value,email:"user@example.com",state:!0}),r()},r=()=>{o.value=!1,l.value=i.value=a.value=""};return{dialog:o,cod_product:l,description:i,price_list:a,createItem:n,closeItem:r}}},h=o(89);const w=(0,h.Z)(g,[["render",v]]);var k=w},2403:function(e,t,o){o.r(t),o.d(t,{default:function(){return j}});var l=o(3396);const i={class:"flex justify-between"},a=(0,l._)("h1",{class:"font-bold lg:text-2xl text-xl text-gray-400"},"Productos",-1),n={class:"py-5"};function r(e,t,o,r,c,d){const u=(0,l.up)("ModalCreateProductVue"),s=(0,l.up)("TableProductsVue"),m=(0,l.up)("ModalEditProductVue");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",i,[a,(0,l.Wm)(u,{onCreateItem:r.onCreateItem},null,8,["onCreateItem"])]),(0,l._)("div",n,[(0,l.Wm)(s,{desserts:r.dataProduct,onEditItem:r.onEditItem,onDeleteItem:r.onDeleteItem},null,8,["desserts","onEditItem","onDeleteItem"])]),(0,l.Wm)(m,{itemEdit:r.itemEdit,openModal:r.dialogEdit,onCancelItem:t[0]||(t[0]=e=>r.dialogEdit=!1),onEditItem:r.onUpdateItem},null,8,["itemEdit","openModal","onEditItem"])],64)}var c=o(3509),d=o(3512),u=o(892),s=o(870),m=o(5039),p=o(1888),_=o(1334),v=o(3601),f=o(8521),g=o(9234),h=o(2900),w=o(1328);const k=(0,l._)("span",{class:"px-4 w-full text-center text-teal-500 font-bold title_views"},"EDITAR PRODUCTO",-1);function C(e,t,o,i,a,n){return(0,l.wg)(),(0,l.j4)(v.B,{modelValue:i.dialog,"onUpdate:modelValue":t[3]||(t[3]=e=>i.dialog=e),width:"550","onClick:outside":i.closeItem},{default:(0,l.w5)((()=>[(0,l.Wm)(m._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w.i,null,{default:(0,l.w5)((()=>[k])),_:1}),(0,l.Wm)(p.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(h.h,{variant:"outlined",label:"Codigo producto",color:"teal",modelValue:i.cod_product,"onUpdate:modelValue":t[0]||(t[0]=e=>i.cod_product=e),"prepend-inner-icon":"mdi-barcode"},null,8,["modelValue"]),(0,l.Wm)(h.h,{variant:"outlined",label:"Descripción","prepend-inner-icon":"mdi-text-box-plus",color:"blue",modelValue:i.description,"onUpdate:modelValue":t[1]||(t[1]=e=>i.description=e)},null,8,["modelValue"]),(0,l.Wm)(h.h,{type:"number",variant:"outlined",label:"Precio","prepend-inner-icon":"mdi-cash",color:"blue",modelValue:i.price_list,"onUpdate:modelValue":t[2]||(t[2]=e=>i.price_list=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(_.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g.C),(0,l.Wm)(s.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:i.closeItem},{default:(0,l.w5)((()=>[(0,l.Uk)(" Cancelar ")])),_:1},8,["onClick"]),(0,l.Wm)(s.T,{color:"blue-lighten-1",variant:"tonal",onClick:i.editItem},{default:(0,l.w5)((()=>[(0,l.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onClick:outside"])}var b=o(4870),y={props:{itemEdit:Object,openModal:Boolean},emits:["edit-item","cancel-item"],setup(e,{emit:t}){const o=(0,b.iH)(!1),i=(0,b.iH)(""),a=(0,b.iH)(""),n=(0,b.iH)("");(0,l.YP)((()=>e.openModal),(async e=>{o.value=e})),(0,l.YP)((()=>e.itemEdit),(e=>{console.log(e),0!==Object.keys(e).length&&(i.value=e.item.cod_product,a.value=e.item.description,n.value=e.item.price_list)}));const r=()=>{t("edit-item",{cod_product:i.value,description:a.value,price_list:n.value,email:"user@example.com",state:!0}),c()},c=()=>{t("cancel-item")};return{dialog:o,cod_product:i,description:a,price_list:n,editItem:r,closeItem:c}}},I=o(89);const W=(0,I.Z)(y,[["render",C]]);var V=W,E=o(7139),x=o(678);const U={class:"flex gap-1 justify-center"},P=["onClick"],D=["onClick"];function Z(e,t,o,i,a,n){const r=(0,l.up)("v-data-table");return(0,l.wg)(),(0,l.j4)(r,{headers:a.headers,items:o.desserts,class:"elevation-1 text-sm"},{["item.date_created"]:(0,l.w5)((({item:e})=>[(0,l.Uk)((0,E.zw)(i.formatCreatedAt(e.date_created)),1)])),["item.actions"]:(0,l.w5)((({item:e})=>[(0,l._)("div",U,[(0,l._)("span",{onClick:t=>i.editItem(e)},[(0,l.Wm)(s.T,{icon:"mdi-pencil",size:"small",variant:"text",color:"green"}),(0,l.Wm)(x.N,{activator:"parent",location:"top"},{default:(0,l.w5)((()=>[(0,l.Uk)("Editar")])),_:1})],8,P),(0,l._)("span",{onClick:t=>i.deleteItem(e)},[(0,l.Wm)(s.T,{icon:"mdi-delete-empty",size:"small",variant:"text",color:"red"}),(0,l.Wm)(x.N,{activator:"parent",location:"top"},{default:(0,l.w5)((()=>[(0,l.Uk)("Eliminar")])),_:1})],8,D)])])),_:2},1032,["headers","items"])}var T=o(7360),A={props:{desserts:Array},components:{VDataTable:T.y_},emits:["delete-item","edit-item"],data(){return{headers:[{title:"Codigo producto",align:"start",key:"cod_product"},{title:"Descripción",align:"start",key:"description"},{title:"Precio",key:"price_list"},{title:"Fecha creación",align:"start",key:"date_created"},{title:"Acciones",align:"center",key:"actions"}]}},setup(e,{emit:t}){const o=e=>{t("edit-item",{item:e})},l=e=>{t("delete-item",{item:e})},i=e=>{const t={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"},o=new Date(e).toLocaleDateString("es-PE",t);return o};return{formatCreatedAt:i,editItem:o,deleteItem:l}}};const H=(0,I.Z)(A,[["render",Z]]);var z=H,$=o(4239),M={components:{TableProductsVue:z,ModalCreateProductVue:u.Z,ModalEditProductVue:V},setup(){const e=(0,b.iH)([]),t=(0,b.iH)({}),o=(0,b.iH)(!1);(0,l.bv)((()=>{i()}));const i=async()=>{const t=await(0,c.oi)($.Z.state.token);e.value=t.data},a=async e=>{""!=e.cod_product&&""!=e.description&&""!=e.price_list?await(0,c.cT)(e,$.Z.state.token).then((()=>{(0,d.y)((()=>{i()}),"success","Logrado","Se ha creado correctamente")})).catch((e=>{(0,d.y)((()=>{}),"error","Error",e.message)})):(0,d.y)((()=>{}),"warning","Error","Los campos no deben estar vacios")},n=e=>{o.value=!0,t.value=e},r=async e=>{o.value=!1,""!=e.cod_product&&""!=e.description&&""!=e.price_list?await(0,c.PQ)(t.value.item.id,e,$.Z.state.token).then((()=>{(0,d.y)((()=>{i()}),"success","Logrado","Se ha editado correctamente")})).catch((e=>{(0,d.y)((()=>{}),"error","Error",e.message)})):(0,d.y)((()=>{}),"warning","Error","Los campos no deben estar vacios")},u=e=>{(0,d.M)((async()=>{await(0,c.zf)(e.item.id,$.Z.state.token).then((()=>{(0,d.y)((()=>{i()}),"success","Logrado","Se ha eliminado correctamente")})).catch((e=>{(0,d.y)((()=>{}),"error","Error",e.message)}))}),"¿Estás seguro de eliminar este cliente?","Aceptar")};return{dialogEdit:o,dataProduct:e,itemEdit:t,onDeleteItem:u,onUpdateItem:r,onEditItem:n,onCreateItem:a}}};const B=(0,I.Z)(M,[["render",r]]);var j=B}}]);
//# sourceMappingURL=756.df69b56e.js.map