{"version":3,"file":"js/565.9c1fb57a.js","mappings":"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","sources":["webpack://platform_electronic_billing/./src/api/VoucherService.js","webpack://platform_electronic_billing/./src/views/VouchersView.vue","webpack://platform_electronic_billing/./src/components/vouchers/TableVouchers.vue","webpack://platform_electronic_billing/./src/components/vouchers/TableVouchers.vue?d678","webpack://platform_electronic_billing/./src/views/VouchersView.vue?2042"],"sourcesContent":["import axiosInstance from '@/config/http.config';\r\n\r\nconst baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\nexport function findAllVoucherApi(token) {\r\n    return axiosInstance.get(`${baseURL}/list_voucher/`, {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        },\r\n    });\r\n}\r\n\r\nexport function createVoucherApi(data, token) {\r\n    return axiosInstance.post(`${baseURL}/voucher/`, data, {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        },\r\n    })\r\n}\r\n\r\nexport function findOneVoucherApi(data, token) {\r\n    return axiosInstance.post(`${baseURL}/list_voucher/`, data, {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        },\r\n    })\r\n}\r\n\r\nexport function updateVoucherApi(id, data, token) {\r\n    return axiosInstance.put(`${baseURL}/voucher/${id}/`, data, {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        },\r\n    })\r\n}\r\n\r\nexport function deleteVoucherApi(id, token) {\r\n    return axiosInstance.delete(`${baseURL}/voucher/${id}/`, {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        },\r\n    })\r\n}\r\n","<template>\r\n    <div class=\"flex justify-between\">\r\n        <h1 class=\"font-bold lg:text-2xl text-xl text-gray-400\">Comprobantes</h1>\r\n        <router-link to=\"createvouchers\">\r\n            <v-btn class=\"text-none\" size=\"small\" color=\"indigo-lighten-2\">\r\n                <v-icon icon=\"mdi-plus\"></v-icon>\r\n                Nuevo\r\n            </v-btn>\r\n        </router-link>\r\n    </div>\r\n    <div class=\"py-5\">\r\n        <TableVoucher :desserts=\"dataTable\" @approve-item=\"onApproveItem\" @edit-item=\"onEditItem\" @pdf-item=\"onPdfItem\"\r\n            @delete-item=\"onDeleteItem\" @approval-request=\"onApprovalRequest\" />\r\n    </div>\r\n</template>\r\n<script>\r\nimport { onMounted, ref, watch } from \"vue\";\r\nimport TableVoucher from \"@/components/vouchers/TableVouchers.vue\";\r\nimport { findAllVoucherApi, deleteVoucherApi } from '@/api/VoucherService';\r\nimport { basicAlert, confirmBasic } from '@/helpers/SweetAlert';\r\nimport { useRouter } from 'vue-router';\r\nimport store from '@/store';\r\n\r\nexport default ({\r\n    props: {\r\n        reloadTable: Boolean\r\n    },\r\n    components: {\r\n        TableVoucher\r\n    },\r\n    emits: ['create-cotizacion', 'edit-item', 'pdf-item', 'approve-item', 'approval-request'],\r\n    setup(props, { emit }) {\r\n        const dataTable = ref([]);\r\n        const router = useRouter();\r\n\r\n        onMounted(async () => {\r\n            await reloadData()\r\n        })\r\n\r\n        watch(() => props.reloadTable, (newVal) => {\r\n            if (newVal) {\r\n                reloadData()\r\n            }\r\n        })\r\n\r\n        const reloadData = async () => {\r\n            findAllVoucherApi(store.state.token)\r\n                .then(response => {\r\n                    dataTable.value = response.data.data\r\n                })\r\n                .catch(error => {\r\n                    console.log(error)\r\n                })\r\n        }\r\n\r\n        const onEditItem = (item) => {\r\n            const id = item.item.id;\r\n            router.push({ name: 'updatevouchers', params: { id } });\r\n        }\r\n\r\n        const onApproveItem = (item) => {\r\n            emit('approve-item', { item })\r\n        }\r\n\r\n        const onApprovalRequest = (item) => {\r\n            emit('approval-request', { item })\r\n        }\r\n\r\n        const onPdfItem = (item) => {\r\n            emit('pdf-item', { item })\r\n        }\r\n\r\n        const onDeleteItem = (item) => {\r\n            confirmBasic(async () => {\r\n                deleteVoucherApi(item.item.id, store.state.token)\r\n                    .then(() => {\r\n                        basicAlert(() => {\r\n                            reloadData()\r\n                        }, 'success', 'Logrado', \"El comprobante se ha eliminado correctamente\")\r\n                    })\r\n                    .catch(() => {\r\n                        basicAlert(() => {\r\n                            reloadData()\r\n                        }, 'error', 'Error', \"Hubo un error al eliminar el comprobante\")\r\n                    })\r\n            }, '¿Estás seguro de eliminar este comprobante?', 'Aceptar');\r\n        }\r\n\r\n        return {\r\n            dataTable,\r\n            onApprovalRequest,\r\n            onPdfItem,\r\n            onApproveItem,\r\n            onDeleteItem,\r\n            onEditItem\r\n        }\r\n    }\r\n})\r\n</script>","<template>\r\n    <v-data-table :headers=\"headers\" :items=\"desserts\" class=\"elevation-1 text-sm\">\r\n        <template v-slot:[`item.date_created`]=\"{ item }\">\r\n            {{ formatCreatedAt(item.date_created) }}\r\n        </template>\r\n        <template v-slot:[`item.state_sunat`]=\"{ item }\">\r\n            <v-chip color=\"indigo\">{{ item.state_sunat }}</v-chip>\r\n        </template>\r\n        <template v-slot:[`item.actions`]=\"{ item }\">\r\n            <div class=\"flex gap-1\">\r\n                <span @click=\"editItem(item)\">\r\n                    <v-btn icon=\"mdi-pencil\" size=\"small\" variant=\"text\" color=\"green\"></v-btn>\r\n                    <v-tooltip activator=\"parent\" location=\"top\">Editar</v-tooltip>\r\n                </span>\r\n                <span @click=\"deleteItem(item)\">\r\n                    <v-btn icon=\"mdi-delete-empty\" size=\"small\" variant=\"text\" color=\"red\"></v-btn>\r\n                    <v-tooltip activator=\"parent\" location=\"top\">Eliminar</v-tooltip>\r\n                </span>\r\n            </div>\r\n        </template>\r\n    </v-data-table>\r\n</template>\r\n<script>\r\nimport { VDataTable } from 'vuetify/labs/VDataTable';\r\nexport default ({\r\n    props: {\r\n        desserts: Array\r\n    },\r\n    components: {\r\n        VDataTable,\r\n    },\r\n    emits: ['delete-item', 'edit-item'],\r\n    data() {\r\n        return {\r\n            headers: [\r\n                { title: '#', align: 'start', key: 'id' },\r\n                { title: 'Cliente', align: 'start', key: 'client.legal_name' },\r\n                { title: 'Establecimiento', align: 'start', key: 'establishment.name' },\r\n                { title: 'Almacén', align: 'start', key: 'store.name' },\r\n                { title: 'Moneda', align: 'start', key: 'currency' },\r\n                { title: 'Total', key: 'total' },\r\n                { title: 'Fecha de emisión', align: 'center', key: 'date_created' },\r\n                { title: 'Estado en la SUNAT', key: 'state_sunat' },\r\n                { title: 'Acciones', key: 'actions' },\r\n            ]\r\n        }\r\n    },\r\n    setup(_, { emit }) {\r\n        const editItem = (item) => {\r\n            emit('edit-item', { item })\r\n        }\r\n\r\n        const deleteItem = (item) => {\r\n            emit('delete-item', { item })\r\n        }\r\n        const formatCreatedAt = (dateString) => {\r\n            const options = { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', second: '2-digit' };\r\n            const createdAt = new Date(dateString).toLocaleDateString('es-PE', options);\r\n            return createdAt;\r\n        }\r\n        return {\r\n            formatCreatedAt,\r\n            editItem,\r\n            deleteItem\r\n        }\r\n    }\r\n})\r\n</script>","import { render } from \"./TableVouchers.vue?vue&type=template&id=55d43730\"\nimport script from \"./TableVouchers.vue?vue&type=script&lang=js\"\nexport * from \"./TableVouchers.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./VouchersView.vue?vue&type=template&id=68596e8e\"\nimport script from \"./VouchersView.vue?vue&type=script&lang=js\"\nexport * from \"./VouchersView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["baseURL","process","findAllVoucherApi","token","axiosInstance","get","headers","Authorization","createVoucherApi","data","post","findOneVoucherApi","updateVoucherApi","id","put","deleteVoucherApi","delete","class","_createElementVNode","_hoisted_1","_hoisted_2","_createVNode","_component_router_link","to","_component_v_btn","size","color","_component_v_icon","icon","_hoisted_3","_component_TableVoucher","desserts","$setup","dataTable","onApproveItem","onEditItem","onPdfItem","onDeleteItem","onApprovalRequest","_createBlock","_component_v_data_table","$data","items","$props","_withCtx","item","formatCreatedAt","date_created","_component_v_chip","state_sunat","onClick","$event","editItem","variant","_component_v_tooltip","activator","location","deleteItem","props","Array","components","VDataTable","emits","title","align","key","setup","_","emit","dateString","options","year","month","day","hour","minute","second","createdAt","Date","toLocaleDateString","__exports__","reloadTable","Boolean","TableVoucher","ref","router","useRouter","onMounted","async","reloadData","watch","newVal","store","state","then","response","value","catch","error","console","log","push","name","params","confirmBasic","basicAlert","render"],"sourceRoot":""}