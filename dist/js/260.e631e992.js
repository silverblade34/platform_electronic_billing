"use strict";(self["webpackChunkplatform_electronic_billing"]=self["webpackChunkplatform_electronic_billing"]||[]).push([[260],{5066:function(e,t,l){l.d(t,{LI:function(){return r},L_:function(){return o},Mn:function(){return i},WB:function(){return d}});var a=l(3041);const n="http://143.244.144.235:8000/api";function o(e){return a.Z.get(`${n}/client/`,{headers:{Authorization:`Bearer ${e}`}})}function i(e,t){return a.Z.post(`${n}/client/`,e,{headers:{Authorization:`Bearer ${t}`}})}function d(e,t,l){return a.Z.put(`${n}/client/${e}/`,t,{headers:{Authorization:`Bearer ${l}`}})}function r(e,t){return a.Z.delete(`${n}/client/${e}/`,{headers:{Authorization:`Bearer ${t}`}})}},9790:function(e,t,l){l.d(t,{Z:function(){return x}});var a=l(3396),n=l(7139),o=l(870),i=l(5039),d=l(1888),r=l(1334),u=l(3601),m=l(8521),c=l(9234),s=l(3289),p=l(240),v=l(2900),g=l(1328);const _=(0,a._)("span",{class:"px-4 w-full text-center text-teal-500 font-bold title_views"},"CREAR CLIENTE",-1),h={class:"text-xs pl-3 pb-3 text-red-400"},V={class:"grid grid-cols-2 gap-2"},b={class:"grid grid-cols-2 gap-2"},f={class:"grid grid-cols-2 gap-2"};function y(e,t,l,y,C,W){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(o.T,{size:"small",class:"text-none",color:"indigo-lighten-2",onClick:t[0]||(t[0]=e=>y.dialog=!0)},{default:(0,a.w5)((()=>[(0,a.Wm)(s.t,{icon:"mdi-plus"}),(0,a.Uk)(" Nuevo")])),_:1}),(0,a.Wm)(u.B,{modelValue:y.dialog,"onUpdate:modelValue":t[12]||(t[12]=e=>y.dialog=e),width:"650","onClick:outside":y.closeItem},{default:(0,a.w5)((()=>[(0,a.Wm)(i._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g.i,null,{default:(0,a.w5)((()=>[_])),_:1}),(0,a.Wm)(d.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(p.rL,{variant:"outlined",label:"Tipo de documento",items:["DNI","RUC"],color:"teal",modelValue:y.document_type,"onUpdate:modelValue":t[1]||(t[1]=e=>y.document_type=e),"prepend-inner-icon":"mdi-format-list-bulleted-type"},null,8,["modelValue"]),(0,a.Wm)(v.h,{variant:"outlined",label:"N° documento","prepend-inner-icon":"mdi-barcode",color:"teal",modelValue:y.document_number,"onUpdate:modelValue":t[2]||(t[2]=e=>y.document_number=e),counter:"",maxlength:"11",onInput:t[3]||(t[3]=e=>y.customerValidate()),"hide-details":""},null,8,["modelValue"]),(0,a._)("span",h,(0,n.zw)(y.messageValidate),1),(0,a.Wm)(v.h,{variant:"outlined",label:"Nombre legal","prepend-inner-icon":"mdi-domain",color:"teal",modelValue:y.legal_name,"onUpdate:modelValue":t[4]||(t[4]=e=>y.legal_name=e)},null,8,["modelValue"]),(0,a.Wm)(v.h,{variant:"outlined",label:"Nombre comercial","prepend-inner-icon":"mdi-form-textbox",color:"teal",modelValue:y.tradename,"onUpdate:modelValue":t[5]||(t[5]=e=>y.tradename=e)},null,8,["modelValue"]),(0,a._)("div",V,[(0,a.Wm)(v.h,{variant:"outlined",label:"Pais","prepend-inner-icon":"mdi-flag",color:"teal",modelValue:y.country,"onUpdate:modelValue":t[6]||(t[6]=e=>y.country=e)},null,8,["modelValue"]),(0,a.Wm)(v.h,{variant:"outlined",label:"Departamento","prepend-inner-icon":"mdi-map",color:"teal",modelValue:y.department,"onUpdate:modelValue":t[7]||(t[7]=e=>y.department=e)},null,8,["modelValue"])]),(0,a._)("div",b,[(0,a.Wm)(v.h,{variant:"outlined",label:"Provincia","prepend-inner-icon":"mdi-map-marker-multiple",color:"teal",modelValue:y.province,"onUpdate:modelValue":t[8]||(t[8]=e=>y.province=e)},null,8,["modelValue"]),(0,a.Wm)(v.h,{variant:"outlined",label:"Distrito","prepend-inner-icon":"mdi-map-marker-path",color:"teal",modelValue:y.district,"onUpdate:modelValue":t[9]||(t[9]=e=>y.district=e)},null,8,["modelValue"])]),(0,a._)("div",f,[(0,a.Wm)(v.h,{variant:"outlined",label:"Teléfono","prepend-inner-icon":"mdi-phone",color:"teal",modelValue:y.phone,"onUpdate:modelValue":t[10]||(t[10]=e=>y.phone=e)},null,8,["modelValue"]),(0,a.Wm)(v.h,{variant:"outlined",label:"Correo","prepend-inner-icon":"mdi-email",color:"teal",modelValue:y.email,"onUpdate:modelValue":t[11]||(t[11]=e=>y.email=e)},null,8,["modelValue"])])])),_:1})])),_:1}),(0,a.Wm)(r.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c.C),(0,a.Wm)(o.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:y.closeItem},{default:(0,a.w5)((()=>[(0,a.Uk)(" Cancelar ")])),_:1},8,["onClick"]),(0,a.Wm)(o.T,{color:"blue-lighten-1",variant:"tonal",onClick:y.createItem},{default:(0,a.w5)((()=>[(0,a.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onClick:outside"])],64)}var C=l(1076);const W="http://143.244.144.235:8000/api";function k(e){return C.Z.post(`${W}/sunat-api/`,e)}var w=l(4870),I={emits:["create-item"],setup(e,{emit:t}){const l=(0,w.iH)(!1),n=(0,w.iH)(""),o=(0,w.iH)(""),i=(0,w.iH)(""),d=(0,w.iH)(""),r=(0,w.iH)(""),u=(0,w.iH)(""),m=(0,w.iH)(""),c=(0,w.iH)(""),s=(0,w.iH)(""),p=(0,w.iH)(""),v=(0,w.iH)(""),g=()=>{t("create-item",{document_type:n.value,document_number:o.value,legal_name:i.value,tradename:d.value,country:r.value,department:u.value,province:m.value,district:c.value,phone:s.value,email:p.value}),_()},_=()=>{l.value=!1,n.value=o.value=d.value=s.value=p.value="",i.value=u.value=m.value=c.value=r.value=""};(0,a.YP)((()=>n.value),(()=>{h()}));const h=()=>{if(8==o.value.length||11==o.value.length)if("RUC"==n.value){const e={tipo_documento:"ruc",numero:o.value};k(e).then((e=>{v.value="",i.value=e.data.data.nombre,u.value=e.data.data.departamento,m.value=e.data.data.provincia,c.value=e.data.data.distrito,r.value="PERÚ"})).catch((e=>{i.value=u.value=m.value=c.value=r.value="",v.value=e.response.data.data}))}else{const e={tipo_documento:"dni",numero:o.value};k(e).then((e=>{i.value=e.data.data.nombres,v.value=""})).catch((e=>{i.value=u.value=m.value=c.value=r.value="",v.value=e.response.data.data}))}};return{dialog:l,document_type:n,document_number:o,messageValidate:v,legal_name:i,tradename:d,country:r,department:u,province:m,district:c,phone:s,email:p,customerValidate:h,createItem:g,closeItem:_}}},U=l(89);const E=(0,U.Z)(I,[["render",y]]);var x=E},3659:function(e,t,l){l.r(t),l.d(t,{default:function(){return S}});var a=l(3396);const n={class:"flex justify-between"},o=(0,a._)("h1",{class:"font-bold lg:text-2xl text-xl text-gray-400"},"Clientes",-1),i={class:"py-5"};function d(e,t,l,d,r,u){const m=(0,a.up)("ModalCreateCustomerVue"),c=(0,a.up)("TableCustomerVue"),s=(0,a.up)("ModalEditCustomerVue");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",n,[o,(0,a.Wm)(m,{onCreateItem:d.onCreateItem},null,8,["onCreateItem"])]),(0,a._)("div",i,[(0,a.Wm)(c,{desserts:d.dataCustomer,onEditItem:d.onEditItem,onDeleteItem:d.onDeleteItem},null,8,["desserts","onEditItem","onDeleteItem"])]),(0,a.Wm)(s,{itemEdit:d.itemEdit,openModal:d.dialogEdit,onCancelItem:t[0]||(t[0]=e=>d.dialogEdit=!1),onEditItem:d.onUpdateItem},null,8,["itemEdit","openModal","onEditItem"])],64)}var r=l(5066),u=l(3512),m=l(9790),c=l(7139),s=l(870),p=l(5039),v=l(1888),g=l(1334),_=l(3601),h=l(8521),V=l(9234),b=l(240),f=l(2900),y=l(1328);const C=(0,a._)("span",{class:"px-4 w-full text-center text-teal-500 font-bold title_views"},"EDITAR CLIENTE",-1),W={class:"text-xs pl-3 pb-3 text-red-400"},k={class:"grid grid-cols-2 gap-2"},w={class:"grid grid-cols-2 gap-2"},I={class:"grid grid-cols-2 gap-2"};function U(e,t,l,n,o,i){return(0,a.wg)(),(0,a.j4)(_.B,{modelValue:n.dialog,"onUpdate:modelValue":t[11]||(t[11]=e=>n.dialog=e),width:"650","onClick:outside":n.closeItem},{default:(0,a.w5)((()=>[(0,a.Wm)(p._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y.i,null,{default:(0,a.w5)((()=>[C])),_:1}),(0,a.Wm)(v.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(b.rL,{variant:"outlined",label:"Tipo de documento",items:["DNI","RUC"],color:"teal",modelValue:n.document_type,"onUpdate:modelValue":t[0]||(t[0]=e=>n.document_type=e),"prepend-inner-icon":"mdi-format-list-bulleted-type",disabled:""},null,8,["modelValue"]),(0,a.Wm)(f.h,{variant:"outlined",label:"N° documento","prepend-inner-icon":"mdi-barcode",color:"teal",modelValue:n.document_number,"onUpdate:modelValue":t[1]||(t[1]=e=>n.document_number=e),counter:"",maxlength:"11",onInput:t[2]||(t[2]=t=>e.customerValidate()),disabled:"","hide-details":""},null,8,["modelValue"]),(0,a._)("span",W,(0,c.zw)(e.messageValidate),1),(0,a.Wm)(f.h,{variant:"outlined",label:"Nombre legal","prepend-inner-icon":"mdi-domain",color:"teal",modelValue:n.legal_name,"onUpdate:modelValue":t[3]||(t[3]=e=>n.legal_name=e)},null,8,["modelValue"]),(0,a.Wm)(f.h,{variant:"outlined",label:"Nombre comercial","prepend-inner-icon":"mdi-form-textbox",color:"teal",modelValue:n.tradename,"onUpdate:modelValue":t[4]||(t[4]=e=>n.tradename=e)},null,8,["modelValue"]),(0,a._)("div",k,[(0,a.Wm)(f.h,{variant:"outlined",label:"Pais","prepend-inner-icon":"mdi-flag",color:"teal",modelValue:n.country,"onUpdate:modelValue":t[5]||(t[5]=e=>n.country=e)},null,8,["modelValue"]),(0,a.Wm)(f.h,{variant:"outlined",label:"Departamento","prepend-inner-icon":"mdi-map",color:"teal",modelValue:n.department,"onUpdate:modelValue":t[6]||(t[6]=e=>n.department=e)},null,8,["modelValue"])]),(0,a._)("div",w,[(0,a.Wm)(f.h,{variant:"outlined",label:"Provincia","prepend-inner-icon":"mdi-map-marker-multiple",color:"teal",modelValue:n.province,"onUpdate:modelValue":t[7]||(t[7]=e=>n.province=e)},null,8,["modelValue"]),(0,a.Wm)(f.h,{variant:"outlined",label:"Distrito","prepend-inner-icon":"mdi-map-marker-path",color:"teal",modelValue:n.district,"onUpdate:modelValue":t[8]||(t[8]=e=>n.district=e)},null,8,["modelValue"])]),(0,a._)("div",I,[(0,a.Wm)(f.h,{variant:"outlined",label:"Teléfono","prepend-inner-icon":"mdi-phone",color:"teal",modelValue:n.phone,"onUpdate:modelValue":t[9]||(t[9]=e=>n.phone=e)},null,8,["modelValue"]),(0,a.Wm)(f.h,{variant:"outlined",label:"Correo","prepend-inner-icon":"mdi-email",color:"teal",modelValue:n.email,"onUpdate:modelValue":t[10]||(t[10]=e=>n.email=e)},null,8,["modelValue"])])])),_:1})])),_:1}),(0,a.Wm)(g.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(V.C),(0,a.Wm)(s.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:n.closeItem},{default:(0,a.w5)((()=>[(0,a.Uk)(" Cancelar ")])),_:1},8,["onClick"]),(0,a.Wm)(s.T,{color:"blue-lighten-1",variant:"tonal",onClick:n.editItem},{default:(0,a.w5)((()=>[(0,a.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onClick:outside"])}var E=l(4870),x={props:{itemEdit:Object,openModal:Boolean},emits:["edit-item","cancel-item"],setup(e,{emit:t}){const l=(0,E.iH)(!1),n=(0,E.iH)(""),o=(0,E.iH)(""),i=(0,E.iH)(""),d=(0,E.iH)(""),r=(0,E.iH)(""),u=(0,E.iH)(""),m=(0,E.iH)(""),c=(0,E.iH)(""),s=(0,E.iH)(""),p=(0,E.iH)("");(0,a.YP)((()=>e.openModal),(async e=>{l.value=e})),(0,a.YP)((()=>e.itemEdit),(e=>{console.log(e),0!==Object.keys(e).length&&(n.value=e.item.document_type,o.value=e.item.document_number,i.value=e.item.legal_name,d.value=e.item.tradename,r.value=e.item.country,u.value=e.item.department,m.value=e.item.province,c.value=e.item.district,s.value=e.item.phone,p.value=e.item.email)}));const v=()=>{t("edit-item",{document_type:n.value,document_number:o.value,legal_name:i.value,tradename:d.value,country:r.value,department:u.value,province:m.value,district:c.value,phone:s.value,email:p.value}),g()},g=()=>{t("cancel-item")};return{dialog:l,document_type:n,document_number:o,legal_name:i,tradename:d,country:r,department:u,province:m,district:c,phone:s,email:p,editItem:v,closeItem:g}}},H=l(89);const T=(0,H.Z)(x,[["render",U]]);var D=T,Z=l(678);const A={class:"flex gap-1 justify-center"},N=["onClick"],L=["onClick"];function M(e,t,l,n,o,i){const d=(0,a.up)("v-data-table");return(0,a.wg)(),(0,a.j4)(d,{headers:o.headers,items:l.desserts,class:"elevation-1 text-sm"},{["item.createdAt"]:(0,a.w5)((({item:e})=>[(0,a.Uk)((0,c.zw)(n.formatCreatedAt(e.createdAt)),1)])),["item.actions"]:(0,a.w5)((({item:e})=>[(0,a._)("div",A,[(0,a._)("span",{onClick:t=>n.editItem(e)},[(0,a.Wm)(s.T,{icon:"mdi-pencil",size:"small",variant:"text",color:"green"}),(0,a.Wm)(Z.N,{activator:"parent",location:"top"},{default:(0,a.w5)((()=>[(0,a.Uk)("Editar")])),_:1})],8,N),(0,a._)("span",{onClick:t=>n.deleteItem(e)},[(0,a.Wm)(s.T,{icon:"mdi-delete-empty",size:"small",variant:"text",color:"red"}),(0,a.Wm)(Z.N,{activator:"parent",location:"top"},{default:(0,a.w5)((()=>[(0,a.Uk)("Eliminar")])),_:1})],8,L)])])),_:2},1032,["headers","items"])}var $=l(7360),z={props:{desserts:Array},components:{VDataTable:$.y_},emits:["delete-item","edit-item"],data(){return{headers:[{title:"N° de documento",align:"start",key:"document_number"},{title:"Tipo de documento",align:"start",key:"document_type"},{title:"Nombre legal",key:"legal_name"},{title:"Telefono",align:"start",key:"phone"},{title:"Correo",align:"center",key:"email"},{title:"Acciones",align:"center",key:"actions"}]}},setup(e,{emit:t}){const l=e=>{t("edit-item",{item:e})},a=e=>{t("delete-item",{item:e})},n=e=>{const t={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"},l=new Date(e).toLocaleDateString("es-PE",t);return l};return{formatCreatedAt:n,editItem:l,deleteItem:a}}};const B=(0,H.Z)(z,[["render",M]]);var P=B,R=l(4239),j={components:{TableCustomerVue:P,ModalCreateCustomerVue:m.Z,ModalEditCustomerVue:D},setup(){const e=(0,E.iH)([]),t=(0,E.iH)({}),l=(0,E.iH)(!1);(0,a.bv)((()=>{n()}));const n=async()=>{const t=await(0,r.L_)(R.Z.state.token);e.value=t.data},o=async e=>{""!=e.document_type&&""!=e.document_number?await(0,r.Mn)(e,R.Z.state.token).then((()=>{(0,u.y)((()=>{n()}),"success","Logrado","Se ha creado correctamente")})).catch((e=>{(0,u.y)((()=>{}),"error","Error",e.message)})):(0,u.y)((()=>{}),"warning","Error","Los campos no deben estar vacios")},i=e=>{l.value=!0,t.value=e},d=async e=>{l.value=!1,""!=e.document_type&&""!=e.document_number?await(0,r.WB)(t.value.item.id,e,R.Z.state.token).then((e=>{(0,u.y)((()=>{n()}),"success","Logrado","Se ha editado correctamente")})).catch((e=>{(0,u.y)((()=>{}),"error","Error",e.message)})):(0,u.y)((()=>{}),"warning","Error","Los campos no deben estar vacios")},m=e=>{(0,u.M)((async()=>{await(0,r.LI)(e.item.id,R.Z.state.token).then((()=>{(0,u.y)((()=>{n()}),"success","Logrado","Se ha eliminado correctamente")})).catch((e=>{(0,u.y)((()=>{}),"error","Error",e.message)}))}),"¿Estás seguro de eliminar este cliente?","Aceptar")};return{dialogEdit:l,dataCustomer:e,itemEdit:t,onDeleteItem:m,onUpdateItem:d,onEditItem:i,onCreateItem:o}}};const Y=(0,H.Z)(j,[["render",d]]);var S=Y}}]);
//# sourceMappingURL=260.e631e992.js.map